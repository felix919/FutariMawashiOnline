<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>サンプル</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $(function () {
            $('#btn1').click(function () {
                $.get("https://www.pokemon-card.com/deck/deck.html?deckID=ngQNn9-G35BmJ-QLn96L",
                    {},
                    function (response) {
                        // 改行ごとに配列に分ける
                        var lineArray = response.split(/\r\n|\r|\n/);
                        $.each(lineArray, function(index, line) {
                            var result = line.indexOf("deck_pke");
                            if (result !== -1) {
                                // valueを抽出する
                                var value = $.trim(line).split(" ")[4].replace("value=", "").replace(/"/g, "")
                                // ポケモンごとに分ける
                                var pokemons = value.split("-")
                                // カード情報を出力する
                                var output = ""
                                $.each(pokemons, function(index, pokemon) {
                                    // カード情報に分ける
                                    var card = pokemon.split("_")
                                    output += "ID: " + card[0] + ", 枚数: " + card[1] + "\n"
                                })
                                alert(output);
                            }
                        })
                    }
                );
            });
        });
    </script>
</head>

<body>
    <input type="button" id="btn1" value="ngQNn9-G35BmJ-QLn96L">
</body>

</html>
